<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>Everything Is Connected â€” Slide Presenter demo</title>
    <script>
      function startApplication($, eic) {
        var generators = new eic.NarratedSlideGenerator();
        var presenter = new eic.SlidePresenter('#main .slides', generators);
        $('#start').click(function() {
          generators.addGenerator(new eic.IntroductionSlideGenerator());
          var topics = $('#topics').val().trim().split(/,\s*/);
          topics.forEach(function (topic) {
            generators.addGenerator(new eic.TitleSlideGenerator(topic));
            generators.addGenerator(new eic.GoogleImageSlideGenerator(topic));
          });
        
          generators.once('playReady',function () {
            var audioEl = $("<audio src='"+data.snd_url+"' controls='controls' style='display: none;'/>");
            
            $("#main").append(audioEl);
            
            var audioEl = document.getElementById("audioTag");
            audioEl.load();
            audioEl.play();
          
          });
        
          presenter.start();
        });
      }
    </script>
    <script data-main="scripts/demo" src="scripts/lib/require.js" async></script>
    <link rel="stylesheet" href="stylesheets/demo.css" />
  </head>
  <body>
    <div id="main">
      <div id="input">
        <input id="topics" size="100" value="Stones, Oceans, Trees" />
        <input id="start" type="submit" value="Start" />
      </div>
      <div class="slides">
      </div>
    </div>
  </body>
</html>
